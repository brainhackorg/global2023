<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic "><meta name=description content><link rel=alternate hreflang=en-us href=https://www.brainhack.org/global2023/project/project_71/><meta name=theme-color content="#66a49f"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css integrity="sha512-1xoFisiGdy9nvho8EgXuXvnpR5GAMSjFwp40gSRE3NwdUdIMIKuPa7bqoUhLD0O/5tPNhteAsE5XyyMi5reQVA==" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js integrity="sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==" crossorigin=anonymous async></script>
<link rel=stylesheet href=/global2023/css/academic.css><link rel=manifest href=/global2023/index.webmanifest><link rel=icon type=image/png href=/global2023/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/global2023/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_192x192_fill_lanczos_center_3.png><link rel=canonical href=https://www.brainhack.org/global2023/project/project_71/><meta property="twitter:card" content="summary"><meta property="twitter:site" content="@brainhackorg"><meta property="twitter:creator" content="@brainhackorg"><meta property="og:site_name" content="Brainhack Global 2023"><meta property="og:url" content="https://www.brainhack.org/global2023/project/project_71/"><meta property="og:title" content="The TAPAS PhysIO Toolbox for Physiological Noise Modeling in fMRI | Brainhack Global 2023"><meta property="og:description" content><meta property="og:image" content="https://www.brainhack.org/global2023/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_512x512_fill_lanczos_center_3.png"><meta property="twitter:image" content="https://www.brainhack.org/global2023/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_512x512_fill_lanczos_center_3.png"><meta property="og:locale" content="en-us"><meta property="article:modified_time" content="2024-01-05T10:31:28+01:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.brainhack.org/global2023/project/project_71/"},"headline":"The TAPAS PhysIO Toolbox for Physiological Noise Modeling in fMRI","datePublished":"0001-01-01T00:00:00Z","dateModified":"2024-01-05T10:31:28+01:00","author":{"@type":"Person","name":"Authors"},"publisher":{"@type":"Organization","name":"Brainhack Global 2023","logo":{"@type":"ImageObject","url":"https://www.brainhack.org/global2023/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_192x192_fill_lanczos_center_3.png"}},"description":""}</script><title>The TAPAS PhysIO Toolbox for Physiological Noise Modeling in fMRI | Brainhack Global 2023</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><script>const isSiteThemeDark=!1</script><script src=/global2023/js/load-theme.js></script><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Brainhack Global 2023</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Brainhack Global 2023</a></div><div class="navbar-collapse main-menu-item collapse justify-content-center" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/global2023/><i class='fas fa-brain'></i><span>&nbsp; Home</span></a></li><li class=nav-item><a class=nav-link href=/global2023/events/><i class='fas fa-search-location'></i><span>&nbsp; Events</span></a></li><li class=nav-item><a class=nav-link href=/global2023/projects/><i class='fas fa-laptop'></i><span>&nbsp; Projects</span></a></li><li class=nav-item><a class=nav-link href=/global2023/gallery><i class='fas fa-brush'></i><span>&nbsp; Gallery</span></a></li><li class=nav-item><a class=nav-link href=/global2023/faq/><i class='fas fa-question'></i><span>&nbsp; FAQ</span></a></li><li class=nav-item><a class=nav-link href=https://brainhack.org/code-of-conduct target=_blank rel=noopener><span>Code of Conduct</span></a></li><li class=nav-item><a class=nav-link href=/global2023/#team><span>Team</span></a></li><li class=nav-item><a class=nav-link href=/global2023/#contact><span>Contact</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"></ul></div></nav><div class=pub><div class="article-container pt-3"><h1>The TAPAS PhysIO Toolbox for Physiological Noise Modeling in fMRI</h1><div class=article-metadata><span class=article-date>Last updated on
Jan 5, 2024</span></div></div><div class=article-container><h3 id=title>Title</h3><p>The TAPAS PhysIO Toolbox for Physiological Noise Modeling in fMRI</p><h3 id=leaders>Leaders</h3><ul><li>Lars Kasper @mrikasper</li><li>Johanna Bayer @likeajumprope</li></ul><h3 id=collaborators>Collaborators</h3><ul><li>Joram Soch @JoramSoch (for MACS integration)</li></ul><h3 id=brainhack-global-2023-event>Brainhack Global 2023 Event</h3><p>BrainHack Toronto</p><h3 id=project-description>Project Description</h3><p><em>TL;DR: Watch the videos on <a href="https://www.youtube.com/watch?v=rdsk2yhxEVM" target=_blank rel=noopener>PhysIO</a>
and <a href="https://www.youtube.com/watch?v=yuPiGfqVjCQ&t=6s" target=_blank rel=noopener>MACS</a>
to learn about these 2 toolboxes that we are trying to integrate and make more accessible in this Hackathon.</em></p><p>The PhysIO Toolbox offers model-based physiological noise correction for functional MRI (fMRI) data, based on peripheral physiological recordings, such as cardiac and respiratory traces (ECG, pulse oximeter, breathing belt). Major noise models, such as RETROICOR, respiratory volume per time (RVT) or heart-rate variability (HRV) modulations of BOLD are supported.</p><p>PhysIO is written in Matlab, but also offered as standalone version via a containerized solution (<a href=https://www.neurodesk.org/tutorials-examples/tutorials/functional_imaging/physio/ target=_blank rel=noopener>Neurodesk</a>
) or web-based processing interface (<a href=https://cbrain.ca/ target=_blank rel=noopener>CBRAIN</a>
). Through its integration as a toolbox in SPM, it both offers interactive operation via the Batch Editor GUI, as well as batch execution within fMRI preprocessing pipelines.</p><p>Through its more than 10 years of development as part of the Translational Algorithms for Psychiatry-Advancing Science (TAPAS) Software Package, PhysIO has seen many improvements and new releases, but user requests for new features always outnumber our core developer capacity.</p><p>In this Brainhack, we would like to add two of the most highly-desired features to PhysIO:</p><ol><li>Finding the best physiological noise model for your data using <a href=https://github.com/JoramSoch/MACS target=_blank rel=noopener>MACS</a></li><li>Creating an interactive tutorial of PhysIO in action using Matlab Online and open datasets, for example based on this <a href=https://github.com/likeajumprope/PhysIO-Live target=_blank rel=noopener>prototype code</a></li></ol><p>If you want to start small, there is also a <a href=https://github.com/users/likeajumprope/projects/2/views/2 target=_blank rel=noopener>user wish list</a>
of changes to the interface and documentation that we would be happy to see implemented.</p><h3 id=link-to-project-repositorysources>Link to project repository/sources</h3><ul><li>Main TAPAS PhysIO Repository: <a href=https://github.com/translationalneuromodeling/tapas/ target=_blank rel=noopener>https://github.com/translationalneuromodeling/tapas/</a></li><li>Main MACS Repository: <a href=https://github.com/JoramSoch/MACS target=_blank rel=noopener>https://github.com/JoramSoch/MACS</a></li><li>Current PhysIO Live Demo Prototype: <a href=https://github.com/likeajumprope/PhysIO-Live target=_blank rel=noopener>https://github.com/likeajumprope/PhysIO-Live</a></li><li>Project board of current user (small) wish list: <a href=https://github.com/users/likeajumprope/projects/2/views/2 target=_blank rel=noopener>https://github.com/users/likeajumprope/projects/2/views/2</a></li></ul><h3 id=goals-for-brainhack-global>Goals for Brainhack Global</h3><p>All of the following goals are equally worthwhile. We will base our prioritization on user interest and expertise:</p><ol><li><input disabled type=checkbox> Model Selection of the best Physiological noise model for your data (tracked in <a href="https://github.com/users/likeajumprope/projects/2/views/2?pane=issue&itemId=7286685" target=_blank rel=noopener>this issue</a>
)</li></ol><ul><li>With the large variety of physiological noise models and parameters offered by PhysIO, a <a href=https://gitlab.ethz.ch/physio/physio-doc/-/wikis/FAQ#17-which-models-do-i-have-to-include-in-my-physiological-regressor-matrix-and-which-number-of-regressors-model-order-delays-per-model target=_blank rel=noopener>common question</a>
for users is which model is right for their data.</li><li>Overly simplistic models might not remove noise effectively, overly complex models, on the other hand, might reduce your sensitivity to detect fMRI activation by removing degrees of freedom in your task model or signal correlated to your task.</li><li>Bayesian model selection is a formal way to compare different modeling choices and select the best model for your data.</li><li>MACS (Model Assessment, Comparison and Selection) is an SPM toolbox offering Bayesian Model Selection for the general linear models (GLMs) used in fMRI analysis.</li><li>In this milestone, we want to complete the following:<ul><li><input checked disabled type=checkbox> Identify a suitable multi-subject open fMRI dataset (e.g., on OpenNeuro) with peripheral recordings</li><li><input checked disabled type=checkbox> Run different physiological noise models (GLMs) on multiple subjects</li><li><input disabled type=checkbox> Assess the GLMs for single subjects and the group via MACS</li><li><input disabled type=checkbox> Perform model comparison for a couple of typical models (RETROICOR different orders, plus RVT, plus HRV, different delays RVT/HRV delays)</li><li><input disabled type=checkbox> Write a programmatic interface within PhysIO to call MACS for model assessment/selection</li><li><input disabled type=checkbox> Write a batch editor interface for PhysIO model assessment using MACS</li></ul></li></ul><ol start=2><li><input disabled type=checkbox> Interactive Online Tutorial of the PhysIO pipeline with openly available fMRI data (tracked in <a href="https://github.com/users/likeajumprope/projects/2/views/2?pane=issue&itemId=7286753" target=_blank rel=noopener>this issue</a>
)</li></ol><ul><li>We have created a <a href=https://github.com/likeajumprope/PhysIO-Live target=_blank rel=noopener>prototype of this effort</a>
using &ldquo;Matlab Online&rdquo;.</li><li>There are some barriers to make it a great user experience for your first contact with the PhysIO Toolbox, in particular<ul><li><input disabled type=checkbox> the slow initialization because of downloading git submodules from GitHub (including SPM)</li><li><input disabled type=checkbox> the choice of appropriate (good physiological recordings) and small open fMRI datasets, e.g., from <a href="https://openneuro.org/search/modality/mri?query=%7B%22modality_selected%22%3A%22MRI%22%7D" target=_blank rel=noopener>OpenNeuro</a></li></ul></li></ul><ol start=3><li><input disabled type=checkbox> Fulfilling some PhysIO users&rsquo; long-standing small, but impactful feature requests from the <a href=https://github.com/users/likeajumprope/projects/2/views/2 target=_blank rel=noopener>wish list</a>
, such as<ul><li><input disabled type=checkbox> A consistent interface for multiband fMRI data (<a href="https://github.com/users/likeajumprope/projects/2/views/2?pane=issue&itemId=7286640" target=_blank rel=noopener>this issue</a>
)</li><li><input disabled type=checkbox> A direct read-in of BIDS scan timing data from <code>.json</code> sidecar files, similar to the <a href=https://doi.org/10.3389/fninf.2023.1251023 target=_blank rel=noopener>CBRAIN</a>
implementation</li><li><input disabled type=checkbox> Exporting preprocessed physiological traces and derived measures (heart-rate variability, respiratory volume per time) at base resolution before physiological modeling (<a href="https://github.com/users/likeajumprope/projects/2/views/2?pane=issue&itemId=7611107" target=_blank rel=noopener>this issue</a>
)</li></ul></li></ol><h3 id=good-first-issues>Good first issues</h3><ul><li><input disabled type=checkbox> A consistent interface for multiband fMRI data (<a href="https://github.com/users/likeajumprope/projects/2/views/2?pane=issue&itemId=7286640" target=_blank rel=noopener>this issue</a>
) and this <a href=https://github.com/translationalneuromodeling/tapas/issues/236 target=_blank rel=noopener>possible solution</a></li><li><input checked disabled type=checkbox> the choice of an appropriate (good physiological recordings) and small open fMRI dataset for the PhysIO-Live Demo (single subject) and the Model Selection goal, e.g., from <a href="https://openneuro.org/search/modality/mri?query=%7B%22modality_selected%22%3A%22MRI%22%7D" target=_blank rel=noopener>OpenNeuro</a></li></ul><h3 id=communication-channels>Communication channels</h3><p><a href=https://mattermost.brainhack.org/brainhack/channels/physio target=_blank rel=noopener>https://mattermost.brainhack.org/brainhack/channels/physio</a></p><h3 id=skills>Skills</h3><ul><li>Matlab: basic (running scripts, navigating the Matlab environment) to advanced (unit testing)</li><li>SPM: none to advanced (Navigating the SPM Results and CheckReg Tools, Batch Editor Programming, Setting up multiple processing pipelines)</li><li>Functional MRI Analysis: basic (GLM) to advanced (Model Comparison, Model Evidence, Bayes factor)</li><li>Open Data Standards/Repositories: BIDS and OpenNeuro</li></ul><h3 id=onboarding-documentation>Onboarding documentation</h3><ul><li>PhysIO <a href=https://github.com/translationalneuromodeling/tapas/tree/master/PhysIO#readme target=_blank rel=noopener>README</a></li><li>PhysIO <a href=https://gitlab.ethz.ch/physio/physio-doc/-/wikis/FAQ target=_blank rel=noopener>FAQ</a></li><li>PhysIO <a href="https://www.youtube.com/watch?v=rdsk2yhxEVM" target=_blank rel=noopener>Video</a></li><li>MACS <a href="https://www.youtube.com/watch?v=yuPiGfqVjCQ&t=6s" target=_blank rel=noopener>Video</a></li><li>TAPAS <a href=https://github.com/translationalneuromodeling/tapas/blob/master/CONTRIBUTING.md target=_blank rel=noopener>CONTRIBUTING</a></li></ul><h3 id=what-will-participants-learn>What will participants learn?</h3><ul><li>Basics of physiological noise correction in fMRI (RETROICOR, RVT, HRV)</li><li>Basics of model comparison/model selection</li><li>Using PhysIO as a Matlab script, in a GUI, at the Batch Editor Level with SPM</li><li>Using Matlab Online with open-source code and data repositories</li></ul><h3 id=data-to-use>Data to use</h3><p>TBD (it&rsquo;s one of the tasks)</p><h3 id=number-of-collaborators>Number of collaborators</h3><p>4</p><h3 id=credit-to-collaborators>Credit to collaborators</h3><p>As outlined in our TAPAS <a href=https://github.com/translationalneuromodeling/tapas/blob/master/CONTRIBUTING.md target=_blank rel=noopener>CONTRIBUTING</a>
document, new members shall add themselves to the <a href=https://github.com/translationalneuromodeling/tapas/blob/master/Contributor-License-Agreement.md target=_blank rel=noopener>Contributor License Agreement</a>
alongside their first pull request contribution to the TAPAS PhysIO Code. This document is also referenced in the PhysIO <a href=https://github.com/translationalneuromodeling/tapas/tree/master/PhysIO#readme target=_blank rel=noopener>README</a>
.</p><h3 id=image>Image</h3><p><img src=https://github.com/brainhackorg/global2023/assets/13321311/27447c25-63cd-4ab2-9b4e-f14d8adb5b6d alt=AvatarPhysIO></p><h3 id=type>Type</h3><p>documentation, method_development, pipeline_development, visualization</p><h3 id=development-status>Development status</h3><p>1_basic structure</p><h3 id=topic>Topic</h3><p>bayesian_approaches, data_visualisation, MR_methodologies, physiology, statistical_modelling</p><h3 id=tools>Tools</h3><p>BIDS, SPM</p><h3 id=programming-language>Programming language</h3><p>documentation, Matlab</p><h3 id=modalities>Modalities</h3><p>fMRI</p><h3 id=git-skills>Git skills</h3><p>1_commit_push</p><h3 id=anything-else>Anything else?</h3><p>We aim at making the project development environment available via Matlab Online or standalone (browser- or container-based, no license required), but if there is specific expertise, we could also aim at full Octave-compatibility of the toolbox.</p><h3 id=things-to-do-after-the-project-is-submitted-and-ready-to-review>Things to do after the project is submitted and ready to review.</h3><ul><li><input checked disabled type=checkbox> Add a comment below the main post of your issue saying: <code>Hi @brainhackorg/project-monitors my project is ready!</code></li><li><input checked disabled type=checkbox> Twitter-sized summary of your project pitch.</li></ul><br><div class=row><div class=col-md-1></div><div class=col-md-10><div class=row><div class="col-12 col-md-3 pub-row-heading">Date</div><div class="col-12 col-md-9">Jan 1, 0001 12:00 AM</div></div></div><div class=col-md-1></div></div><div class="d-md-none space-below"></div><div class=space-below></div><div class=article-style></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/latex.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js integrity="sha512-SeiQaaDh73yrb56sTW/RgVdi/mMqNeM2oBwubFHagc5BkixSpP1fvqF47mKzPGWYSSy4RwbBunrJBQ4Co8fRWA==" crossorigin=anonymous></script>
<script>const code_highlighting=!0</script><script src=/global2023/js/wowchemy.min.9ed78c4cb5ed3bb2b05ea2531a7a79bc.js></script><div class=container><footer class=site-footer><p class=powered-by>© Brainhack Global 2023</p><p style=width:80%;padding-left:10%>Images (and their credits) provided by <a href=https://ohbm-brainart.github.io/ target=_blank>the brain art special interest group</a>
of the <a href=https://www.humanbrainmapping.org target=_blank>organization for human brain mapping</a>
can be viewed on <a href=TODO>our gallery page</a>.</p><p class=powered-by>Adapted from the <a href=https://wowchemy.com target=_blank rel=noopener>Wowchemy</a> template.
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div></body></html>