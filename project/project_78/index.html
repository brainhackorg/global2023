<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic"><meta name=description content><link rel=alternate hreflang=en-us href=https://www.brainhack.org/global2022/project/project_78/><meta name=theme-color content="#66a49f"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css integrity="sha512-1xoFisiGdy9nvho8EgXuXvnpR5GAMSjFwp40gSRE3NwdUdIMIKuPa7bqoUhLD0O/5tPNhteAsE5XyyMi5reQVA==" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js integrity="sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==" crossorigin=anonymous async></script><link rel=stylesheet href=/global2022/css/academic.css><link rel=manifest href=/global2022/index.webmanifest><link rel=icon type=image/png href=/global2022/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=/global2022/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_192x192_fill_lanczos_center_2.png><link rel=canonical href=https://www.brainhack.org/global2022/project/project_78/><meta property="twitter:card" content="summary"><meta property="twitter:site" content="@brainhackorg"><meta property="twitter:creator" content="@brainhackorg"><meta property="og:site_name" content="Brainhack Global 2022"><meta property="og:url" content="https://www.brainhack.org/global2022/project/project_78/"><meta property="og:title" content="Bayes on the Brain in Python | Brainhack Global 2022"><meta property="og:description" content><meta property="og:image" content="https://www.brainhack.org/global2022/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_512x512_fill_lanczos_center_2.png"><meta property="twitter:image" content="https://www.brainhack.org/global2022/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_512x512_fill_lanczos_center_2.png"><meta property="og:locale" content="en-us"><meta property="article:modified_time" content="2023-03-21T09:02:23+01:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.brainhack.org/global2022/project/project_78/"},"headline":"Bayes on the Brain in Python","datePublished":"0001-01-01T00:00:00Z","dateModified":"2023-03-21T09:02:23+01:00","author":{"@type":"Person","name":"Authors"},"publisher":{"@type":"Organization","name":"Brainhack Global 2022","logo":{"@type":"ImageObject","url":"https://www.brainhack.org/global2022/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_192x192_fill_lanczos_center_2.png"}},"description":""}</script><title>Bayes on the Brain in Python | Brainhack Global 2022</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><script>const isSiteThemeDark=false;</script><script src=/global2022/js/load-theme.js></script><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/global2022/>Brainhack Global 2022</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/global2022/>Brainhack Global 2022</a></div><div class="navbar-collapse main-menu-item collapse justify-content-center" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/global2022/><i class="fas fa-brain"></i><span>&nbsp; Home</span></a></li><li class=nav-item><a class=nav-link href=/global2022/events/><i class="fas fa-search-location"></i><span>&nbsp; Events</span></a></li><li class=nav-item><a class=nav-link href=/global2022/projects/><i class="fas fa-laptop"></i><span>&nbsp; Projects</span></a></li><li class=nav-item><a class=nav-link href=/global2022/gallery><i class="fas fa-brush"></i><span>&nbsp; Gallery</span></a></li><li class=nav-item><a class=nav-link href=/global2022/faq/><i class="fas fa-question"></i><span>&nbsp; FAQ</span></a></li><li class=nav-item><a class=nav-link href=https://brainhack.org/code-of-conduct target=_blank rel=noopener><span>Code of Conduct</span></a></li><li class=nav-item><a class=nav-link href=/global2022/#team><span>Team</span></a></li><li class=nav-item><a class=nav-link href=/global2022/#contact><span>Contact</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"></ul></div></nav><div class=pub><div class="article-container pt-3"><h1>Bayes on the Brain in Python</h1><div class=article-metadata><span class=article-date>Last updated on
Mar 21, 2023</span></div></div><div class=article-container><h3 id=title>Title</h3><p>Bayes on the Brain in Python</p><h3 id=leaders>Leaders</h3><p>Kelly Garner
mastodon: <a href=https://fediscience.org/web/@garner_theory>garner_theory@fediscience.org</a>
github: <a href=https://github.com/kel-github>kel-github</a>
mattermost: @kels</p><p>Gang Chen
twitter: <a href="https://twitter.com/gangchen6?lang=en">@gangchen6</a>
github: <a href=https://github.com/afni-gangc>afni-gangc</a>
mattermost: @gangchen</p><h3 id=collaborators>Collaborators</h3><p>Christopher Nolan
mastodon: <a href=https://fediscience.org/web/@cnolan>@cnolan@fediscience.org</a>
github: <a href=https://github.com/crnolan>crnolan</a></p><h3 id=brainhack-global-2022-event>Brainhack Global 2022 Event</h3><p>Brainhack Australasia</p><h3 id=project-description>Project Description</h3><p>Human brain imaging data is massively multidimensional, yet current approaches to modeling functional brain responses apply univariate tests to each voxel separately. This leads to controlling for a vast number of statistical inferences, and to an implicit but unrealistic assumption of a uniform distribution over voxels – no information is shared across the brain.</p><p>A more reasoned approach to assessing regional activity focuses on estimating the strength of an effect; this can be achieved readily under a Bayesian multilevel modeling framework. A further advantage to this approach is that you can build in better assumptions about the data (e.g. normality across space, see <a href=https://doi.org/10.1007/s12021-018-9409-6>Chen et al, 2019, Neuroinformatics</a> and eradicate the need for adjusting for masses of simultaneous statistical inferences.</p><p>Applying such a Bayesian multilevel modeling framework to the analysis of fMRI data is in its infancy. The methodology has been implemented at the region level into the AFNI programme (see <a href=http://dx.doi.org/10.52294/2e179dbf-5e37-4338-a639-9ceb92b055ea>Chen et al, 2022, Aperture Neuro</a>, using Stan through the R package BRMS (Burkner et al, 2017, Journal of Statistical Software). At OHBM Brainhack 2022, we also implemented this methodology in Python using the PyMC framework (Salvatier et al, 2016, PeerJ Computer Science) and the Bambi interface (Capretto et al, 2022, Journal of Statistical Software).</p><p>At Brainhack Global 2022, we will be expanding the capability of the Python implementation. We will:</p><ul><li>Test the computational limits of the approach - can we model activity at the voxel (as opposed to regional) level? What are the run times for voxel-based models, for many subjects or more complex models?</li><li>Build a workflow and a tutorial document to equip anyone to use the method.</li></ul><p>Our long term goal is to build a python interface and this is the first step!</p><p>To get started, take a look at Chen (2022, see above) for more details on the method. Also <a href=https://github.com/crnolan/pyrba>check out our implementation in Python</a></p><h3 id=link-to-project-repositorysources>Link to project repository/sources</h3><p>Repo:<br><a href=https://github.com/crnolan/pyrba>https://github.com/crnolan/pyrba</a></p><p>Resources<br><a href=https://bambinos.github.io/bambi/main/index.html>https://bambinos.github.io/bambi/main/index.html</a><br><a href=https://www.pymc.io/projects/docs/en/stable/learn.html>https://www.pymc.io/projects/docs/en/stable/learn.html</a><br><a href=https://nilab-uva.github.io/AOMIC.github.io/>https://nilab-uva.github.io/AOMIC.github.io/</a><br>{Chen et al, 2022, Aperture Neuro](<a href=http://dx.doi.org/10.52294/2e179dbf-5e37-4338-a639-9ceb92b055ea>http://dx.doi.org/10.52294/2e179dbf-5e37-4338-a639-9ceb92b055ea</a>)</p><h3 id=goals-for-brainhack-global>Goals for Brainhack Global</h3><ul><li><p>Test for computational limitations of applying a Bayesian multilevel framework to fMRI data analysis</p></li><li><p>Build a jupyter notebook tutorial workflow that includes model definition, fitting, quality checks, and results interpretation</p></li><li><p>Start translating the notebook into a Python interface for the people!</p></li></ul><h3 id=good-first-issues>Good first issues</h3><ol><li>Have a go at using the current Python implementation in a Jupyter notebook</li><li>Add a sample of the open dataset to the cloud server.</li><li>Run through the PyMC, Bambi and brms tutorials to find any key differences (e.g. with regard to priors etc)</li><li>Define a model to be run at the voxel level. Calculate compute time.</li></ol><h3 id=communication-channels>Communication channels</h3><p>mattermost channel: <a href=https://mattermost.brainhack.org/brainhack/channels/bayes-on-the-brain>bayes-on-the-brain</a></p><h3 id=skills>Skills</h3><ul><li>Python</li><li>Bayesian modeling analysis</li><li>fMRI data analysis</li><li>Github</li><li>R</li><li>Interest and enthusiasm :)</li></ul><h3 id=onboarding-documentation>Onboarding documentation</h3><p>See the link to the project repository and resources.</p><h3 id=what-will-participants-learn>What will participants learn?</h3><ul><li>Python</li><li>Bayesian multilevel modeling</li><li>fMRI data analysis</li><li>Github</li><li>R</li></ul><h3 id=data-to-use>Data to use</h3><p><a href=https://nilab-uva.github.io/AOMIC.github.io/>https://nilab-uva.github.io/AOMIC.github.io/</a></p><h3 id=number-of-collaborators>Number of collaborators</h3><p>more</p><h3 id=credit-to-collaborators>Credit to collaborators</h3><p>Project contributors will be listed on the project README and included as authors on any further outputs.</p><h3 id=image>Image</h3><p>Leave this text if you don&rsquo;t have an image yet.
<img src=https://user-images.githubusercontent.com/7220723/201803083-16858c76-bec4-45bd-8bb6-86baff84fcac.png alt=project-image></p><h3 id=type>Type</h3><p>coding_methods, method_development, pipeline_development</p><h3 id=development-status>Development status</h3><p>1_basic structure</p><h3 id=topic>Topic</h3><p>bayesian_approaches, MR_methodologies, reproducible_scientific_methods, statistical_modelling</p><h3 id=tools>Tools</h3><p>AFNI, BIDS, fMRIPrep, Jupyter, other</p><h3 id=programming-language>Programming language</h3><p>documentation, Python, <code>R</code></p><h3 id=modalities>Modalities</h3><p>fMRI</p><h3 id=git-skills>Git skills</h3><p>0_no_git_skills, 1_commit_push, 2_branches_PRs, 3_continuous_integration</p><h3 id=anything-else>Anything else?</h3><p><em>No response</em></p><h3 id=things-to-do-after-the-project-is-submitted-and-ready-to-review>Things to do after the project is submitted and ready to review.</h3><ul><li><input checked disabled type=checkbox> Add a comment below the main post of your issue saying: <code>Hi @brainhackorg/project-monitors my project is ready!</code></li><li><input checked disabled type=checkbox> Twitter-sized summary of your project pitch.</li></ul><br><div class=row><div class=col-md-1></div><div class=col-md-10><div class=row><div class="col-12 col-md-3 pub-row-heading">Date</div><div class="col-12 col-md-9">Jan 1, 0001 12:00 AM</div></div></div><div class=col-md-1></div></div><div class="d-md-none space-below"></div><div class=space-below></div><div class=article-style></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/latex.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js integrity="sha512-SeiQaaDh73yrb56sTW/RgVdi/mMqNeM2oBwubFHagc5BkixSpP1fvqF47mKzPGWYSSy4RwbBunrJBQ4Co8fRWA==" crossorigin=anonymous></script><script>const code_highlighting=true;</script><script src=/global2022/js/wowchemy.min.df0121398aa296baec3121e0937e84fb.js></script><div class=container><footer class=site-footer><p class=powered-by>© Brainhack Global 2022</p><p style=width:80%;padding-left:10%>Images (and their credits) provided by <a href=https://ohbm-brainart.github.io/ target=_blank>the brain art special interest group</a>
of the <a href=https://www.humanbrainmapping.org target=_blank>organization for human brain mapping</a>
can be viewed on <a href=TODO>our gallery page</a>.</p><p class=powered-by>Adapted from the <a href=https://wowchemy.com target=_blank rel=noopener>Wowchemy</a> template.
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i>Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i>Download</a><div id=modal-error></div></div></div></div></div></body></html>